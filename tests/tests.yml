
# Annotation
- job: tools/annotation/viral_annotation_input.yml
  tool: ../CWL/Tools/Annotation/viral_annotation.cwl
  output:
    annotation_table:
      class: File
      basename: high_confidence_putative_viral_contigs_prot_ann_table.tsv
      checksum: sha1$e7b28fdae52358fc900616156587212878d4c1e5
      location: Any
      path: Any
      size: 1568

# Assign
- job: tools/assign/assign_test_input.yml
  tool: ../CWL/Tools/Assign/assign.cwl
  output:
    assign_table:
      class: File
      basename: high_confidence_putative_viral_contigs_prot_ann_table_tax_assign.tsv
      location: Any
      path: Any
      size: 468
    stderr:
      class: File
      basename: stderr.txt
      location: Any
      path: Any
      size: 15583
    stdout:
      class: File
      basename: stdout.txt
      location: Any
      path: Any
      size: 66748

# HMMScan
- job: tools/hmmscan/hmmscan_test_input.yml
  tool: ../CWL/Tools/HMMScan/hmmscan.cwl
  output:
    output_table:
      class: File
      basename: high_confidence_putative_viral_contigs_prodigal_hmmscan.tbl
      checksum: sha1$71a44cb6a36d39521c0a5ed57adc560363fe99cd
      location: Any
      path: Any
      size: 147563

# Length Filtering
- job: tools/length_filtering/length_filtering_test_input.yml
  tool: ../CWL/Tools/LengthFiltering/length_filtering.cwl
  output:
    filtered_contigs_fasta:
      class: File
      basename: ERR575691_host_filtered_filt500bp.fasta
      checksum: sha1$d15b69ff3be57c036f8c4585d21855b4bc686c56
      location: Any
      path: Any
      size: 2212936

# Modification
- job: tools/modification/modification_test_input.yml
  tool: ../CWL/Tools/Modification/processing_hmm_result.cwl
  output:
    modified_file:
      class: File
      location: Any
      path: Any
      basename: hmmer_ViPhOG_modified.faa
      checksum: sha1$32cd31b618e80ca7f991014e771ac7ff058e0baf
      size: 3966

# Parse
- job: tools/parse/parse_test_input.yml
  tool: ../CWL/Tools/ParsingPredictions/parse_viral_pred.cwl
  output:
    output_fastas:
      - class: File
        basename: high_confidence_putative_viral_contigs.fna
        location: Any
        path: Any
        checksum: sha1$a9e13ac2cbcf79c01fe3d69d157e29fcec7585c3
        size: 205451
      - class: File
        basename: low_confidence_putative_viral_contigs.fna
        location: Any
        path: Any
        checksum: sha1$f3a54007ca77eb5f3c6d3d44703a7259e8a5e371
        size: 7383
      - class: File
        basename: putative_prophages.fna
        location: Any
        path: Any
        checksum: sha1$3921383191e46a9de9c77b4b77e1bbef7f14c274
        size: 83317
    stderr:
      basename: stderr.txt
      checksum: sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709
      class: File
      size: 0
    stdout:
      class: File
      basename: stdout.txt
      location: Any
      path: Any
      checksum: sha1$0ff7927e1fd19f0fa88f9f3921fa1ec1c8d2a2da
      size: 506

# Prodigal
- job: tools/prodigal/prodigal_test_input.yml
  tool: ../CWL/Tools/Prodigal/prodigal.cwl 
  output:
    output_fasta:
      class: File
      basename: high_confidence_putative_viral_contigs_prodigal.faa
      location: Any
      path: Any
      checksum: sha1$68c5a8f77b1063f3fbb0addd20b34b4332328c88
      size: 1511386
    stderr:
      class: File
      basename: stderr.txt
      location: Any
      path: Any
      checksum: sha1$7d8cb56e96afe8062d58021dfc9e415150e3f694
      size: 10559
    stdout:
      class: File
      basename: stdout.txt
      location: Any
      path: Any
      checksum: sha1$dcb66eb80d2449200f9360422896726306caffd8
      size: 1060895

# Ratio evalue
- job: tools/ratio_evalue/ratio_evalue_test_input.yml
  tool: ../CWL/Tools/RatioEvalue/ratio_evalue.cwl
  output:
    informative_table:
      class: File
      basename: hmmer_ViPhOG_modified_informative.tsv
      location: Any
      path: Any
      size: 292
    stderr:
      class: File
      basename: stderr.txt
      location: Any
      path: Any
      checksum: sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709
      size: 0
    stdout:
      class: File
      basename: stdout.txt
      location: Any
      path: Any
      checksum: sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709
      size: 0

# VirFinder 
- job: tools/virfinder/virfinder_test_input.yml
  tool: ../CWL/Tools/VirFinder/virfinder.cwl
  output:
    output:
      class: File
      basename: VirFinder_output.tsv
      location: Any
      path: Any
      checksum: sha1$a0794a6cd15d7549b704191e21a65e1854c51e9a
      size: 85756
    stderr:
      class: File
      basename: stderr.txt
      path: Any
      location: Any
      checksum: sha1$0dc6b281b5b94417e96ea498fb163673c446a583
      size: 295
    stdout:
      class: File
      basename: stdout.txt
      location: Any
      path: Any
      size: 158366

# VirFinder 
- job: tools/virsorter/virsorter_test_input.yml
  tool: ../CWL/Tools/VirSorter/virsorter.cwl
  output:
      predicted_viral_seq_dir:
        basename: Predicted_viral_sequences
        class: Directory
        location: Predicted_viral_sequences
        path: Predicted_viral_sequences
        listing:
          - class: File
            size: 42882
            basename: VIRSorter_cat-1.fasta
            location: Any
            path: Any    
          - class: File
            size: 159145
            basename: VIRSorter_cat-2.fasta
            location: Any
            path: Any    
          - class: File
            size: 0
            basename: VIRSorter_cat-3.fasta
            location: Any
            path: Any    
          - class: File
            size: 43597
            basename: VIRSorter_prophages_cat-4.fasta
            location: Any
            path: Any    
          - class: File
            size: 38377
            basename: VIRSorter_prophages_cat-5.fasta
            location: Any
            path: Any    
          - class: File
            size: 0
            basename: VIRSorter_prophages_cat-6.fasta
            # not used
          - class: File
            basename: VIRSorter_cat-1.gb
            location: Any
            path: Any    
          - class: File
            basename: VIRSorter_cat-2.gb
            location: Any
            path: Any    
          - class: File
            basename: VIRSorter_cat-3.gb
            location: Any
            path: Any    
          - class: File
            basename: VIRSorter_prophages_cat-4.gb
            location: Any
            path: Any    
          - class: File
            basename: VIRSorter_prophages_cat-5.gb
            location: Any
            path: Any    
          - class: File
            basename: VIRSorter_prophages_cat-6.gb
            location: Any
            path: Any    
      stderr:
        class: File
        basename: stderr.txt
        location: Any
        path: Any
        size: 0
      stdout:
        class: File
        basename: stdout.txt
        location: Any
        path: Any
        size: 6321

## -- Workflows -- ##
# Pipeline
- job: workflows/pipeline_test_input.yml
  tool: ../CWL/WorkFlow/pipeline.cwl
  output:
      output_length_filtering:
        class: File
        basename: ERR575691_host_filtered_filt500bp.fasta
        location: Any
        path: Any
        size: 2212936
      output_parse_stdout:
        class: File
        basename: stdout.txt
        location: Any
        path: Any
        size: 392
      output_prodigal:
        - class: File
          basename: high_confidence_putative_viral_contigs_prodigal.faa
          location: Any
          path: Any
          size: 109213
        - class: File
          basename: low_confidence_putative_viral_contigs_prodigal.faa
          location: Any
          path: Any
          size: 1343
        - class: File
          basename: putative_prophages_prodigal.faa
          location: Any
          path: Any
          size: 42325
      output_final_assign:
        - class: File
          basename: high_confidence_putative_viral_contigs_prot_ann_table_tax_assign.tsv
          location: Any
          path: Any  
          size: 468
        - class: File
          basename: low_confidence_putative_viral_contigs_prot_ann_table_tax_assign.tsv
          location: Any
          path: Any  
          size: 128
        - class: File
          basename: putative_prophages_prot_ann_table_tax_assign.tsv
          location: Any
          path: Any  
          size: 230
      output_parse:
        - class: File
          basename: high_confidence_putative_viral_contigs.fna
          location: Any
          path: Any  
          size: 205451
        - class: File
          basename: low_confidence_putative_viral_contigs.fna
          location: Any
          path: Any  
          size: 2854
        - class: File
          basename: putative_prophages.fna
          location: Any
          path: Any  
          size: 83317
      output_virsorter:
        path: Predicted_viral_sequences
        basename: Predicted_viral_sequences
        class: Directory
        listing:
          - class: File
            basename: VIRSorter_cat-1.fasta
            location: Any
            path: Any  
            size: 42882
          - class: File
            basename: VIRSorter_cat-2.fasta
            location: Any
            path: Any
            size: 159145
          - class: File
            basename: VIRSorter_cat-3.fasta
            location: Any
            path: Any  
            size: 0
          - class: File
            basename: VIRSorter_prophages_cat-4.fasta
            location: Any
            path: Any
            size: 43597
          - class: File
            basename: VIRSorter_prophages_cat-5.fasta
            size: 38377
            location: Any
            path: Any
          - class: File
            basename: VIRSorter_prophages_cat-6.fasta
            size: 0
            location: Any
            path: Any
            # not used
          - class: File
            basename: VIRSorter_cat-1.gb
            location: Any
            path: Any
          - class: File
            basename: VIRSorter_cat-2.gb
            location: Any
            path: Any
          - class: File
            basename: VIRSorter_cat-3.gb
            location: Any
            path: Any
          - class: File
            basename: VIRSorter_prophages_cat-4.gb
            location: Any
            path: Any
          - class: File
            location: Any
            path: Any
            basename: VIRSorter_prophages_cat-5.gb
          - class: File
            basename: VIRSorter_prophages_cat-6.gb
            location: Any
            path: Any
      output_parse_stderr:
        class: File
        basename: stderr.txt
        location: Any
        path: Any
        size: 0
      output_virfinder:
        class: File
        basename: VirFinder_output.tsv
        location: Any
        path: Any
        size: 37221

# Sub-workflow
- job: workflows/subworkflow_test_input.yml
  tool: ../CWL/WorkFlow/subworkflow_viral_processing.cwl
  output:
      prodigal_out:
        class: File
        basename: high_confidence_putative_viral_contigs_prodigal.faa
        location: Any
        path: Any
        size: 109213
      hmmscan_out:
        class: File
        basename: high_confidence_putative_viral_contigs_prodigal_hmmscan.tbl
        location: Any
        path: Any
        size: 151094
      modification_out:
        class: File
        basename: high_confidence_putative_viral_contigs_prodigal_hmmscan_modified.faa
        location: Any
        path: Any
        size: 105441
      annotation_table:
        class: File
        basename: high_confidence_putative_viral_contigs_prot_ann_table.tsv
        location: Any
        path: Any
        size: 37137
      assign_results:
        class: File
        basename: high_confidence_putative_viral_contigs_prot_ann_table_tax_assign.tsv
        location: Any
        path: Any
        size: 468
      ratio_evalue_table:
        class: File
        basename: high_confidence_putative_viral_contigs_prodigal_hmmscan_modified_informative.tsv
        location: Any
        path: Any
        size: 14375
